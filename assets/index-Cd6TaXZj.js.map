{"version":3,"file":"index-Cd6TaXZj.js","sources":["../../src/utils/fullscreen.js","../../src/config.js","../../src/app.js","../../src/objects/rope.js","../../src/scenes/player.js","../../src/scenes/testing_scene.js","../../src/main.js"],"sourcesContent":["function resizeGame(kaplay) {\r\n  const gameCanvas = document.querySelector(\"canvas\");\r\n\r\n  const winWidth = window.innerWidth;\r\n  const winHeight = window.innerHeight;\r\n\r\n  const scaleX = Math.floor(winWidth / kaplay.width);\r\n  const scaleY = Math.floor(winHeight / kaplay.height);\r\n  const scale = Math.max(1, Math.min(scaleX, scaleY));\r\n\r\n  gameCanvas.style.width = kaplay.width * scale + \"px\";\r\n  gameCanvas.style.height = kaplay.height * scale + \"px\";\r\n  gameCanvas.style.imageRendering = \"pixelated\";\r\n  gameCanvas.style.position = \"absolute\";\r\n  gameCanvas.style.top = \"50%\";\r\n  gameCanvas.style.left = \"50%\";\r\n  gameCanvas.style.transform = \"translate(-50%, -50%)\";\r\n}\r\n\r\nfunction goFullscreen() {\r\n  const canvas = document.querySelector(\"canvas\");\r\n  if (canvas.requestFullscreen) {\r\n    canvas.requestFullscreen();\r\n  } else if (canvas.webkitRequestFullscreen) {\r\n    canvas.webkitRequestFullscreen();\r\n  }\r\n}\r\n\r\nexport function fullscreenHandler(kaplay) {\r\n  window.addEventListener(\"resize\", resizeGame(kaplay));\r\n  window.addEventListener(\"load\", resizeGame(kaplay));\r\n\r\n  document.addEventListener(\"keydown\", (e) => {\r\n    if (e.key === \"f\") {\r\n      goFullscreen();\r\n    }\r\n  });\r\n}\r\n","export const GAME_WIDTH = 800;\r\nexport const GAME_HEIGHT = 450;\r\n\r\n// 16:9\r\n\r\nexport const COLORS = {\r\n  background: [39, 38, 36],\r\n  foreground: [255, 255, 255],\r\n};\r\n","const App = {\r\n  kaplayInstance: null,\r\n  currentScene: null,\r\n\r\n  init(kaplayInstance) {\r\n    this.kaplayInstance = kaplayInstance;\r\n  },\r\n\r\n  addScene(name, sceneFunc) {\r\n    if (!this.kaplayInstance) {\r\n      console.error(\"Kaplay instance не инициализирован\");\r\n      return;\r\n    }\r\n\r\n    this.kaplayInstance.scene(name, sceneFunc);\r\n  },\r\n\r\n  startScene(name) {\r\n    if (!this.kaplayInstance) {\r\n      console.error(\"Kaplay instance не инициализирован\");\r\n      return;\r\n    }\r\n\r\n    this.currentScene = name;\r\n    this.kaplayInstance.go(name);\r\n  },\r\n};\r\n\r\nexport default App;\r\n","export function createSwingRope(anchor, radius) {\r\n  let angle = Math.PI / 2; // 90° вниз\r\n  let angularVelocity = 0;\r\n  const gravity = 0.5; // сила притяжения (можно тюнить)\r\n  const damping = 0.995; // трение\r\n\r\n  let player = null;\r\n\r\n  function attach(entity) {\r\n    player = entity;\r\n    const dx = player.pos.x - anchor.x;\r\n    const dy = player.pos.y - anchor.y;\r\n    angle = Math.atan2(dy, dx);\r\n    angularVelocity = 0;\r\n  }\r\n\r\n  function applyImpulse(force) {\r\n    angularVelocity += force;\r\n  }\r\n\r\n  function update(dt) {\r\n    if (!player) return;\r\n\r\n    const frameFactor = dt() * 60;\r\n\r\n    angularVelocity += gravity * Math.cos(angle) * frameFactor;\r\n    angularVelocity *= Math.pow(damping, frameFactor);\r\n    angle += angularVelocity * frameFactor;\r\n\r\n    const dx = player.pos.x - anchor.x;\r\n    const dy = player.pos.y - anchor.y;\r\n    const dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n    if (dist !== radius) {\r\n      const nx = dx / dist;\r\n      const ny = dy / dist;\r\n\r\n      player.pos.x = anchor.x + nx * radius;\r\n      player.pos.y = anchor.y + ny * radius;\r\n\r\n      const radialVel = player.vel.x * nx + player.vel.y * ny;\r\n      player.vel.x -= radialVel * nx;\r\n      player.vel.y -= radialVel * ny;\r\n    }\r\n  }\r\n\r\n  function drawRope() {\r\n    if (!player) return;\r\n\r\n    drawLine({\r\n      p1: anchor,\r\n      p2: player.pos,\r\n      width: 2,\r\n      color: [0, 0, 0],\r\n    });\r\n\r\n    const dir = player.vel.unit().scale(40);\r\n    const endPos = player.pos.add(dir);\r\n\r\n    drawLine({\r\n      p1: player.pos,\r\n      p2: endPos,\r\n      width: 2,\r\n      color: BLUE,\r\n    });\r\n  }\r\n\r\n  function setAnchor(newAnchor) {\r\n    anchor = newAnchor;\r\n    if (player) {\r\n      const dx = player.pos.x - anchor.x;\r\n      const dy = player.pos.y - anchor.y;\r\n      angle = Math.atan2(dy, dx);\r\n      angularVelocity = 0;\r\n    }\r\n  }\r\n\r\n  function setRadius(newRadius) {\r\n    radius = newRadius;\r\n    if (player) {\r\n      const dx = player.pos.x - anchor.x;\r\n      const dy = player.pos.y - anchor.y;\r\n      angle = Math.atan2(dy, dx);\r\n\r\n      player.pos.x = anchor.x + Math.cos(angle) * radius;\r\n      player.pos.y = anchor.y + Math.sin(angle) * radius;\r\n\r\n      const nx = Math.cos(angle);\r\n      const ny = Math.sin(angle);\r\n      const radialVel = player.vel.x * nx + player.vel.y * ny;\r\n      player.vel.x -= radialVel * nx;\r\n      player.vel.y -= radialVel * ny;\r\n    }\r\n  }\r\n\r\n  return {\r\n    attach,\r\n    applyImpulse,\r\n    update,\r\n    setAnchor,\r\n    setRadius,\r\n    draw: drawRope,\r\n  };\r\n}\r\n","import { createSwingRope } from \"../objects/rope\";\r\n\r\nconst IMPULSE_FORCE = 500;\r\nconst JUMP_FORCE = -600;\r\nconst SPEED = 200;\r\nconst DRAG_ON_GROUND = 7;\r\n\r\nconst HOOK_IMPULSE = 400;\r\nconst HOOK_LEN = 120;\r\n\r\nexport const spawnPlayer = (position) => {\r\n  loadSprite(\"hero_afk\", \"./sprites/hero-afk.png\", {\r\n    sliceX: 8,\r\n    sliceY: 1,\r\n    anims: {\r\n      afk: 0,\r\n      idle: { from: 0, to: 7, loop: true },\r\n    },\r\n  });\r\n\r\n  const player = add([\r\n    sprite(\"hero_afk\"),\r\n    pos(position),\r\n    area(),\r\n    body(),\r\n    anchor(\"center\"),\r\n    color(0, 0, 0),\r\n    \"player\",\r\n  ]);\r\n\r\n  player.play(\"idle\");\r\n\r\n  // Player variables\r\n  player.lastDirection = 1;\r\n  let isAttached = false;\r\n  let attachedPos = null;\r\n\r\n  // Player movement\r\n  onKeyDown(\"left\", () => {\r\n    player.flipX = true;\r\n    player.move(-SPEED, 0);\r\n    player.lastDirection = -1;\r\n  });\r\n\r\n  onKeyDown(\"right\", () => {\r\n    player.flipX = false;\r\n    player.move(SPEED, 0);\r\n    player.lastDirection = 1;\r\n  });\r\n\r\n  onKeyPress(\"up\", () => {\r\n    if (player.isGrounded() || isAttached) {\r\n      disattachWall();\r\n      player.applyImpulse(vec2(0, JUMP_FORCE));\r\n    }\r\n  });\r\n\r\n  onKeyPress(\"x\", () => {\r\n    player.applyImpulse(vec2(IMPULSE_FORCE * player.lastDirection, 0));\r\n  });\r\n\r\n  // Physics\r\n  player.onUpdate(() => {\r\n    if (player.isGrounded()) {\r\n      player.drag = DRAG_ON_GROUND;\r\n    } else {\r\n      player.drag = 0;\r\n    }\r\n\r\n    if (isAttached && attachedPos) {\r\n      player.pos = attachedPos.clone();\r\n      player.vel = vec2(0, 0);\r\n    }\r\n  });\r\n\r\n  player.onCollide(\"solid\", (collision) => {\r\n    if (!isAttached && Math.abs(player.vel.x) > 2 && !player.isGrounded()) {\r\n      isAttached = true;\r\n      attachedPos = player.pos;\r\n\r\n      player.vel = vec2(0, 0);\r\n\r\n      player.gravity = 0;\r\n\r\n      shake(5);\r\n    }\r\n  });\r\n\r\n  // Отцепиться по нажатию вниз (или другой кнопки)\r\n  onKeyPress(\"down\", () => {\r\n    disattachWall();\r\n  });\r\n\r\n  function disattachWall() {\r\n    if (isAttached) {\r\n      isAttached = false;\r\n      attachedPos = null;\r\n      player.gravity = 1;\r\n\r\n      shake(1);\r\n      player.vel = vec2(player.vel.x, -5);\r\n    }\r\n  }\r\n\r\n  function hook() {\r\n    let updateRope = false;\r\n    const rope = createSwingRope(vec2(0, 0), HOOK_LEN);\r\n    rope.attach(player);\r\n\r\n    onKeyPress(\"z\", () => {\r\n      if (updateRope == false) {\r\n        const hit = getNewHookPoint();\r\n        if (hit == null) {\r\n          return;\r\n        }\r\n\r\n        rope.setAnchor(hit);\r\n\r\n        const hook_len = hit.sub(player.pos).len();\r\n        if (hook_len < HOOK_LEN) {\r\n          rope.setRadius(hook_len);\r\n        } else {\r\n          rope.setRadius(HOOK_LEN);\r\n        }\r\n\r\n        updateRope = true;\r\n        return;\r\n      }\r\n\r\n      updateRope = false;\r\n      let newDir = Vec2.fromAngle(-45).scale(HOOK_IMPULSE);\r\n      newDir.x = newDir.x * player.lastDirection;\r\n      player.applyImpulse(newDir);\r\n      return;\r\n    });\r\n\r\n    onUpdate(() => {\r\n      if (updateRope) {\r\n        rope.update(dt);\r\n      }\r\n    });\r\n\r\n    onDraw(() => {\r\n      if (updateRope) {\r\n        rope.draw();\r\n      }\r\n    });\r\n  }\r\n\r\n  const getNewHookPoint = () => {\r\n    let direction = Vec2.fromAngle(-45);\r\n    player.lastDirection > 0\r\n      ? (direction.x = direction.x)\r\n      : (direction.x = -direction.x);\r\n    let hit = raycast(player.pos, direction.scale(HOOK_LEN), [\"player\"]);\r\n\r\n    if (hit) {\r\n      return hit.point;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  hook();\r\n\r\n  return player;\r\n};\r\n","import { spawnPlayer } from \"./player\";\r\n\r\nexport const test_scene = () => {\r\n  let player = spawnPlayer(vec2(width() / 6 + 50, height() - 200));\r\n\r\n  add([\r\n    rect(width() / 3, 20),\r\n    pos(0, height() - 20),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n  ]);\r\n\r\n  add([\r\n    rect(width() / 3, 20),\r\n    pos((width() / 3) * 2, height() - 20),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n  ]);\r\n\r\n  add([\r\n    rect(width() / 3, 20),\r\n    pos(width() / 6, height() - 200),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n    \"solid\",\r\n  ]);\r\n\r\n  add([\r\n    rect(20, height() - 20),\r\n    pos(width() - 20, 0),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n    \"solid\",\r\n  ]);\r\n\r\n  add([\r\n    rect(20, height() - 20),\r\n    pos(0, 0),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n    \"solid\",\r\n  ]);\r\n\r\n  add([\r\n    rect(20, height() - 20),\r\n    pos(width() / 2, height() * -0.355),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n    \"solid\",\r\n  ]);\r\n\r\n  add([\r\n    rect(20, height() - 20),\r\n    pos(width() * 0.66, height() * 0.75),\r\n    area(),\r\n    body({ isStatic: true }),\r\n    color(0, 0, 0),\r\n    \"solid\",\r\n  ]);\r\n\r\n  setGravity(1600);\r\n};\r\n","import kaplay from \"kaplay\";\nimport { fullscreenHandler } from \"./utils/fullscreen\";\nimport { GAME_WIDTH, GAME_HEIGHT } from \"./config.js\";\n\nimport App from \"./app.js\";\nimport { test_scene } from \"./scenes/testing_scene.js\";\n\nconst k = kaplay({\n  background: [255, 255, 255],\n  width: GAME_WIDTH,\n  height: GAME_HEIGHT,\n  scale: 1,\n  pixelated: true,\n});\n\nfullscreenHandler(k);\n\nApp.init(k);\n\nApp.addScene(\"test\", test_scene);\nApp.startScene(\"test\");\n\nk.onClick(() => k.addKaboom(k.mousePos()));\n"],"names":["resizeGame","kaplay","gameCanvas","winWidth","winHeight","scaleX","scaleY","scale","goFullscreen","canvas","fullscreenHandler","GAME_WIDTH","GAME_HEIGHT","App","kaplayInstance","name","sceneFunc","createSwingRope","anchor","radius","angle","angularVelocity","gravity","damping","player","attach","entity","dx","dy","applyImpulse","force","update","dt","frameFactor","dist","nx","ny","radialVel","drawRope","dir","endPos","setAnchor","newAnchor","setRadius","newRadius","IMPULSE_FORCE","JUMP_FORCE","SPEED","DRAG_ON_GROUND","HOOK_IMPULSE","HOOK_LEN","spawnPlayer","position","isAttached","attachedPos","disattachWall","collision","hook","updateRope","rope","hit","getNewHookPoint","hook_len","newDir","direction","test_scene","k"],"mappings":"+uBAAA,SAASA,EAAWC,EAAQ,CAC1B,MAAMC,EAAa,SAAS,cAAc,QAAQ,EAE5CC,EAAW,OAAO,WAClBC,EAAY,OAAO,YAEnBC,EAAS,KAAK,MAAMF,EAAWF,EAAO,KAAK,EAC3CK,EAAS,KAAK,MAAMF,EAAYH,EAAO,MAAM,EAC7CM,EAAQ,KAAK,IAAI,EAAG,KAAK,IAAIF,EAAQC,CAAM,CAAC,EAElDJ,EAAW,MAAM,MAAQD,EAAO,MAAQM,EAAQ,KAChDL,EAAW,MAAM,OAASD,EAAO,OAASM,EAAQ,KAClDL,EAAW,MAAM,eAAiB,YAClCA,EAAW,MAAM,SAAW,WAC5BA,EAAW,MAAM,IAAM,MACvBA,EAAW,MAAM,KAAO,MACxBA,EAAW,MAAM,UAAY,uBAC/B,CAEA,SAASM,GAAe,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC1CA,EAAO,kBACTA,EAAO,kBAAiB,EACfA,EAAO,yBAChBA,EAAO,wBAAuB,CAElC,CAEO,SAASC,EAAkBT,EAAQ,CACxC,OAAO,iBAAiB,SAAUD,EAAWC,CAAM,CAAC,EACpD,OAAO,iBAAiB,OAAQD,EAAWC,CAAM,CAAC,EAElD,SAAS,iBAAiB,UAAY,GAAM,CACtC,EAAE,MAAQ,KACZO,GAEJ,CAAC,CACH,CCrCO,MAAMG,EAAa,IACbC,EAAc,ICDrBC,EAAM,CACV,eAAgB,KAChB,aAAc,KAEd,KAAKC,EAAgB,CACnB,KAAK,eAAiBA,CACxB,EAEA,SAASC,EAAMC,EAAW,CACxB,GAAI,CAAC,KAAK,eAAgB,CACxB,QAAQ,MAAM,oCAAoC,EAClD,MACF,CAEA,KAAK,eAAe,MAAMD,EAAMC,CAAS,CAC3C,EAEA,WAAWD,EAAM,CACf,GAAI,CAAC,KAAK,eAAgB,CACxB,QAAQ,MAAM,oCAAoC,EAClD,MACF,CAEA,KAAK,aAAeA,EACpB,KAAK,eAAe,GAAGA,CAAI,CAC7B,CACF,EC1BO,SAASE,EAAgBC,EAAQC,EAAQ,CAC9C,IAAIC,EAAQ,KAAK,GAAK,EAClBC,EAAkB,EACtB,MAAMC,EAAU,GACVC,EAAU,KAEhB,IAAIC,EAAS,KAEb,SAASC,EAAOC,EAAQ,CACtBF,EAASE,EACT,MAAMC,EAAKH,EAAO,IAAI,EAAIN,EAAO,EAC3BU,EAAKJ,EAAO,IAAI,EAAIN,EAAO,EACjCE,EAAQ,KAAK,MAAMQ,EAAID,CAAE,EACzBN,EAAkB,CACpB,CAEA,SAASQ,EAAaC,EAAO,CAC3BT,GAAmBS,CACrB,CAEA,SAASC,EAAOC,EAAI,CAClB,GAAI,CAACR,EAAQ,OAEb,MAAMS,EAAcD,EAAE,EAAK,GAE3BX,GAAmBC,EAAU,KAAK,IAAIF,CAAK,EAAIa,EAC/CZ,GAAmB,KAAK,IAAIE,EAASU,CAAW,EAChDb,GAASC,EAAkBY,EAE3B,MAAMN,EAAKH,EAAO,IAAI,EAAIN,EAAO,EAC3BU,EAAKJ,EAAO,IAAI,EAAIN,EAAO,EAC3BgB,EAAO,KAAK,KAAKP,EAAKA,EAAKC,EAAKA,CAAE,EAExC,GAAIM,IAASf,EAAQ,CACnB,MAAMgB,EAAKR,EAAKO,EACVE,EAAKR,EAAKM,EAEhBV,EAAO,IAAI,EAAIN,EAAO,EAAIiB,EAAKhB,EAC/BK,EAAO,IAAI,EAAIN,EAAO,EAAIkB,EAAKjB,EAE/B,MAAMkB,EAAYb,EAAO,IAAI,EAAIW,EAAKX,EAAO,IAAI,EAAIY,EACrDZ,EAAO,IAAI,GAAKa,EAAYF,EAC5BX,EAAO,IAAI,GAAKa,EAAYD,CAC9B,CACF,CAEA,SAASE,GAAW,CAClB,GAAI,CAACd,EAAQ,OAEb,SAAS,CACP,GAAIN,EACJ,GAAIM,EAAO,IACX,MAAO,EACP,MAAO,CAAC,EAAG,EAAG,CAAC,CACrB,CAAK,EAED,MAAMe,EAAMf,EAAO,IAAI,KAAI,EAAG,MAAM,EAAE,EAChCgB,EAAShB,EAAO,IAAI,IAAIe,CAAG,EAEjC,SAAS,CACP,GAAIf,EAAO,IACX,GAAIgB,EACJ,MAAO,EACP,MAAO,IACb,CAAK,CACH,CAEA,SAASC,EAAUC,EAAW,CAE5B,GADAxB,EAASwB,EACLlB,EAAQ,CACV,MAAMG,EAAKH,EAAO,IAAI,EAAIN,EAAO,EAC3BU,EAAKJ,EAAO,IAAI,EAAIN,EAAO,EACjCE,EAAQ,KAAK,MAAMQ,EAAID,CAAE,EACzBN,EAAkB,CACpB,CACF,CAEA,SAASsB,EAAUC,EAAW,CAE5B,GADAzB,EAASyB,EACLpB,EAAQ,CACV,MAAMG,EAAKH,EAAO,IAAI,EAAIN,EAAO,EAC3BU,EAAKJ,EAAO,IAAI,EAAIN,EAAO,EACjCE,EAAQ,KAAK,MAAMQ,EAAID,CAAE,EAEzBH,EAAO,IAAI,EAAIN,EAAO,EAAI,KAAK,IAAIE,CAAK,EAAID,EAC5CK,EAAO,IAAI,EAAIN,EAAO,EAAI,KAAK,IAAIE,CAAK,EAAID,EAE5C,MAAMgB,EAAK,KAAK,IAAIf,CAAK,EACnBgB,EAAK,KAAK,IAAIhB,CAAK,EACnBiB,EAAYb,EAAO,IAAI,EAAIW,EAAKX,EAAO,IAAI,EAAIY,EACrDZ,EAAO,IAAI,GAAKa,EAAYF,EAC5BX,EAAO,IAAI,GAAKa,EAAYD,CAC9B,CACF,CAEA,MAAO,CACL,OAAAX,EACA,aAAAI,EACA,OAAAE,EACA,UAAAU,EACA,UAAAE,EACA,KAAML,CACV,CACA,CCrGA,MAAMO,EAAgB,IAChBC,EAAa,KACbC,EAAQ,IACRC,EAAiB,EAEjBC,EAAe,IACfC,EAAW,IAEJC,EAAeC,GAAa,CACvC,WAAW,WAAY,yBAA0B,CAC/C,OAAQ,EACR,OAAQ,EACR,MAAO,CACL,IAAK,EACL,KAAM,CAAE,KAAM,EAAG,GAAI,EAAG,KAAM,EAAI,CACxC,CACA,CAAG,EAED,MAAM5B,EAAS,IAAI,CACjB,OAAO,UAAU,EACjB,IAAI4B,CAAQ,EACZ,KAAI,EACJ,KAAI,EACJ,OAAO,QAAQ,EACf,MAAM,EAAG,EAAG,CAAC,EACb,QACJ,CAAG,EAED5B,EAAO,KAAK,MAAM,EAGlBA,EAAO,cAAgB,EACvB,IAAI6B,EAAa,GACbC,EAAc,KAGlB,UAAU,OAAQ,IAAM,CACtB9B,EAAO,MAAQ,GACfA,EAAO,KAAK,CAACuB,EAAO,CAAC,EACrBvB,EAAO,cAAgB,EACzB,CAAC,EAED,UAAU,QAAS,IAAM,CACvBA,EAAO,MAAQ,GACfA,EAAO,KAAKuB,EAAO,CAAC,EACpBvB,EAAO,cAAgB,CACzB,CAAC,EAED,WAAW,KAAM,IAAM,EACjBA,EAAO,WAAU,GAAM6B,KACzBE,IACA/B,EAAO,aAAa,KAAK,EAAGsB,CAAU,CAAC,EAE3C,CAAC,EAED,WAAW,IAAK,IAAM,CACpBtB,EAAO,aAAa,KAAKqB,EAAgBrB,EAAO,cAAe,CAAC,CAAC,CACnE,CAAC,EAGDA,EAAO,SAAS,IAAM,CAChBA,EAAO,aACTA,EAAO,KAAOwB,EAEdxB,EAAO,KAAO,EAGZ6B,GAAcC,IAChB9B,EAAO,IAAM8B,EAAY,QACzB9B,EAAO,IAAM,KAAK,EAAG,CAAC,EAE1B,CAAC,EAEDA,EAAO,UAAU,QAAUgC,GAAc,CACnC,CAACH,GAAc,KAAK,IAAI7B,EAAO,IAAI,CAAC,EAAI,GAAK,CAACA,EAAO,WAAU,IACjE6B,EAAa,GACbC,EAAc9B,EAAO,IAErBA,EAAO,IAAM,KAAK,EAAG,CAAC,EAEtBA,EAAO,QAAU,EAEjB,MAAM,CAAC,EAEX,CAAC,EAGD,WAAW,OAAQ,IAAM,CACvB+B,GACF,CAAC,EAED,SAASA,GAAgB,CACnBF,IACFA,EAAa,GACbC,EAAc,KACd9B,EAAO,QAAU,EAEjB,MAAM,CAAC,EACPA,EAAO,IAAM,KAAKA,EAAO,IAAI,EAAG,EAAE,EAEtC,CAEA,SAASiC,GAAO,CACd,IAAIC,EAAa,GACjB,MAAMC,EAAO1C,EAAgB,KAAK,EAAG,CAAC,EAAGiC,CAAQ,EACjDS,EAAK,OAAOnC,CAAM,EAElB,WAAW,IAAK,IAAM,CACpB,GAAIkC,GAAc,GAAO,CACvB,MAAME,EAAMC,IACZ,GAAID,GAAO,KACT,OAGFD,EAAK,UAAUC,CAAG,EAElB,MAAME,EAAWF,EAAI,IAAIpC,EAAO,GAAG,EAAE,MACjCsC,EAAWZ,EACbS,EAAK,UAAUG,CAAQ,EAEvBH,EAAK,UAAUT,CAAQ,EAGzBQ,EAAa,GACb,MACF,CAEAA,EAAa,GACb,IAAIK,EAAS,KAAK,UAAU,GAAG,EAAE,MAAMd,CAAY,EACnDc,EAAO,EAAIA,EAAO,EAAIvC,EAAO,cAC7BA,EAAO,aAAauC,CAAM,CAE5B,CAAC,EAED,SAAS,IAAM,CACTL,GACFC,EAAK,OAAO,EAAE,CAElB,CAAC,EAED,OAAO,IAAM,CACPD,GACFC,EAAK,KAAI,CAEb,CAAC,CACH,CAEA,MAAME,EAAkB,IAAM,CAC5B,IAAIG,EAAY,KAAK,UAAU,GAAG,EAClCxC,EAAO,cAAgB,EAClBwC,EAAU,EAAIA,EAAU,EACxBA,EAAU,EAAI,CAACA,EAAU,EAC9B,IAAIJ,EAAM,QAAQpC,EAAO,IAAKwC,EAAU,MAAMd,CAAQ,EAAG,CAAC,QAAQ,CAAC,EAEnE,OAAIU,EACKA,EAAI,MAGN,IACT,EAEA,OAAAH,IAEOjC,CACT,ECpKayC,EAAa,IAAM,CACjBd,EAAY,KAAK,QAAU,EAAI,GAAI,OAAM,EAAK,GAAG,CAAC,EAE/D,IAAI,CACF,KAAK,MAAK,EAAK,EAAG,EAAE,EACpB,IAAI,EAAG,OAAM,EAAK,EAAE,EACpB,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,CACjB,CAAG,EAED,IAAI,CACF,KAAK,MAAK,EAAK,EAAG,EAAE,EACpB,IAAK,QAAU,EAAK,EAAG,OAAM,EAAK,EAAE,EACpC,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,CACjB,CAAG,EAED,IAAI,CACF,KAAK,MAAK,EAAK,EAAG,EAAE,EACpB,IAAI,MAAK,EAAK,EAAG,OAAM,EAAK,GAAG,EAC/B,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,EACb,OACJ,CAAG,EAED,IAAI,CACF,KAAK,GAAI,OAAM,EAAK,EAAE,EACtB,IAAI,MAAK,EAAK,GAAI,CAAC,EACnB,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,EACb,OACJ,CAAG,EAED,IAAI,CACF,KAAK,GAAI,OAAM,EAAK,EAAE,EACtB,IAAI,EAAG,CAAC,EACR,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,EACb,OACJ,CAAG,EAED,IAAI,CACF,KAAK,GAAI,OAAM,EAAK,EAAE,EACtB,IAAI,MAAK,EAAK,EAAG,OAAM,EAAK,KAAM,EAClC,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,EACb,OACJ,CAAG,EAED,IAAI,CACF,KAAK,GAAI,OAAM,EAAK,EAAE,EACtB,IAAI,MAAK,EAAK,IAAM,OAAM,EAAK,GAAI,EACnC,KAAI,EACJ,KAAK,CAAE,SAAU,GAAM,EACvB,MAAM,EAAG,EAAG,CAAC,EACb,OACJ,CAAG,EAED,WAAW,IAAI,CACjB,EC5DMe,EAAIjE,EAAO,CACf,WAAY,CAAC,IAAK,IAAK,GAAG,EAC1B,MAAOU,EACP,OAAQC,EACR,MAAO,EACP,UAAW,EACb,CAAC,EAEDF,EAAkBwD,CAAC,EAEnBrD,EAAI,KAAKqD,CAAC,EAEVrD,EAAI,SAAS,OAAQoD,CAAU,EAC/BpD,EAAI,WAAW,MAAM,EAErBqD,EAAE,QAAQ,IAAMA,EAAE,UAAUA,EAAE,SAAQ,CAAE,CAAC"}